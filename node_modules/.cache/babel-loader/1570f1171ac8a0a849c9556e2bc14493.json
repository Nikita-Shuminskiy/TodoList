{"ast":null,"code":"var _jsxFileName = \"D:\\\\Incubator\\\\Lession_Week_TODO\\\\Tuesday\\\\less_5\\\\src\\\\App.tsx\";\nimport React, { useState } from 'react';\nimport './App.css';\nimport { Todolist } from './Todolist';\nimport { v1 } from 'uuid';\n\nfunction App() {\n  // BLL\n  const todoID_1 = v1();\n  const todoID_2 = v1();\n  const [todolist, setTodolist] = useState([// step 2\n  {\n    id: todoID_1,\n    title: \"Yoe\",\n    filter: 'all'\n  }, {\n    id: todoID_2,\n    title: \"HTML&CSS\",\n    filter: 'all'\n  }]);\n  let [tasks, setTasks] = useState({\n    // обьект\n    [todoID_1]: [{\n      id: v1(),\n      title: \"HTML&CSS\",\n      isDone: true\n    }, {\n      id: v1(),\n      title: \"JS\",\n      isDone: true\n    }, {\n      id: v1(),\n      title: \"ReactJS\",\n      isDone: false\n    }, {\n      id: v1(),\n      title: \"Rest API\",\n      isDone: false\n    }, {\n      id: v1(),\n      title: \"GraphQL\",\n      isDone: false\n    }],\n    [todoID_2]: [{\n      id: v1(),\n      title: \"HTML&CSS\",\n      isDone: true\n    }, {\n      id: v1(),\n      title: \"JS\",\n      isDone: true\n    }, {\n      id: v1(),\n      title: \"ReactJS\",\n      isDone: false\n    }, {\n      id: v1(),\n      title: \"Rest API\",\n      isDone: false\n    }, {\n      id: v1(),\n      title: \"GraphQL\",\n      isDone: false\n    }]\n  }); ///\n\n  let [filter, setFilter] = useState(\"all\");\n\n  function removeTask(taskID, todoLID) {\n    tasks[todoLID] = tasks[todoLID].filter(t => t.id != taskID); // имутабельно\n\n    setTasks({ ...tasks\n    }); // на верхний уровень пилим обьект\n  }\n\n  function addTask(title, todoLID) {\n    const newTask = {\n      id: v1(),\n      title: title,\n      isDone: false\n    };\n    tasks[todoLID] = [newTask, ...tasks[todoLID]]; //  получаем новый массив\n\n    setTasks({ ...tasks\n    });\n  }\n\n  function changeStatus(taskId, isDone, todoLID) {\n    tasks[todoLID] = tasks[todoLID].map(t => {\n      if (t.id === taskId) {\n        return { ...t,\n          isDone: isDone\n        };\n      }\n\n      return t;\n    });\n    setTasks({ ...tasks\n    });\n  }\n\n  function changeTodoFilter(value, todoLID) {\n    setTodolist(todolist.map(t => t.id === todoLID ? { ...t,\n      filter: value\n    } : t));\n  }\n\n  function removeTodoList(todoLID) {\n    setTodolist(todolist.filter(f => f.id !== todoLID));\n    delete tasks[todoLID];\n  }\n\n  const todolistsElements = todolist.map(todo => {\n    let tasksForTodolist = todolist;\n\n    if (todo.filter === \"active\") {\n      tasksForTodolist = tasks.filter(t => t.isDone === false);\n    }\n\n    if (todo.filter === \"completed\") {\n      tasksForTodolist = tasks.filter(t => t.isDone === true);\n    }\n\n    return /*#__PURE__*/React.createElement(Todolist, {\n      title: \"What to learn\",\n      tasks: tasksForTodolist,\n      removeTask: removeTask,\n      changeFilter: changeTodoFilter,\n      addTask: addTask,\n      changeTaskStatus: changeStatus,\n      filter: filter,\n      removeTodoList: removeTodoList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, todolistsElements);\n}\n\nexport default App;","map":{"version":3,"sources":["D:/Incubator/Lession_Week_TODO/Tuesday/less_5/src/App.tsx"],"names":["React","useState","Todolist","v1","App","todoID_1","todoID_2","todolist","setTodolist","id","title","filter","tasks","setTasks","isDone","setFilter","removeTask","taskID","todoLID","t","addTask","newTask","changeStatus","taskId","map","changeTodoFilter","value","removeTodoList","f","todolistsElements","todo","tasksForTodolist"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport './App.css';\r\nimport { TaskType, Todolist } from './Todolist';\r\nimport {v1} from 'uuid';\r\n\r\nexport type FilterValuesType = \"all\" | \"active\" | \"completed\";\r\nexport type TodoListType = { // step 1\r\n    id:string\r\n    title:string\r\n    filter:FilterValuesType\r\n}\r\n\r\ntype TaskTypeState = {\r\n    [key:string]:TaskType[]\r\n}\r\n\r\n\r\n\r\nfunction App() {\r\n    // BLL\r\n    const todoID_1 = v1()\r\n    const todoID_2 = v1()\r\n    const [todolist,setTodolist] = useState<TodoListType[]>([ // step 2\r\n        {id: todoID_1, title: \"Yoe\", filter: 'all'},\r\n        {id: todoID_2, title: \"HTML&CSS\", filter: 'all'}\r\n\r\n    ])\r\n    let [tasks, setTasks] = useState<TaskTypeState>({ // обьект\r\n        [todoID_1]: [\r\n            {id: v1(), title: \"HTML&CSS\", isDone: true},\r\n            {id: v1(), title: \"JS\", isDone: true},\r\n            {id: v1(), title: \"ReactJS\", isDone: false},\r\n            {id: v1(), title: \"Rest API\", isDone: false},\r\n            {id: v1(), title: \"GraphQL\", isDone: false},\r\n        ],\r\n        [todoID_2]: [\r\n            {id: v1(), title: \"HTML&CSS\", isDone: true},\r\n            {id: v1(), title: \"JS\", isDone: true},\r\n            {id: v1(), title: \"ReactJS\", isDone: false},\r\n            {id: v1(), title: \"Rest API\", isDone: false},\r\n            {id: v1(), title: \"GraphQL\", isDone: false},\r\n        ]\r\n    });\r\n\r\n    ///\r\n    let [filter, setFilter] = useState<FilterValuesType>(\"all\");\r\n\r\n    function removeTask(taskID: string , todoLID:string) {\r\n        tasks[todoLID] = tasks[todoLID].filter(t => t.id != taskID); // имутабельно\r\n        setTasks({...tasks}); // на верхний уровень пилим обьект\r\n    }\r\n    function addTask(title: string, todoLID:string) {\r\n        const newTask = {id: v1(), title: title, isDone: false};\r\n        tasks[todoLID] = [newTask, ...tasks[todoLID]]; //  получаем новый массив\r\n        setTasks({...tasks});\r\n    }\r\n    function changeStatus(taskId: string, isDone: boolean,todoLID:string) {\r\n        tasks[todoLID] = tasks[todoLID].map(t => {\r\n        if (t.id === taskId) {\r\n            return {...t, isDone:isDone}\r\n        }\r\n        return t\r\n        })\r\n        setTasks({...tasks});\r\n    }\r\n    function changeTodoFilter(value: FilterValuesType, todoLID:string) {\r\n        setTodolist(todolist.map( t => t.id === todoLID ? {...t , filter: value} : t))\r\n    }\r\n    function removeTodoList (todoLID:string)  {\r\n        setTodolist(todolist.filter(f => f.id !== todoLID))\r\n        delete tasks[todoLID]\r\n    }\r\n\r\n\r\n    const todolistsElements = todolist.map( todo => {\r\n        let tasksForTodolist = todolist;\r\n        if (todo.filter === \"active\") {\r\n            tasksForTodolist = tasks.filter(t => t.isDone === false);\r\n        }\r\n        if (todo.filter === \"completed\") {\r\n            tasksForTodolist = tasks.filter(t => t.isDone === true);\r\n        }\r\n        return (\r\n            <Todolist title=\"What to learn\"\r\n                      tasks={tasksForTodolist}\r\n                      removeTask={removeTask}\r\n                      changeFilter={changeTodoFilter}\r\n                      addTask={addTask}\r\n                      changeTaskStatus={changeStatus}\r\n                      filter={filter}\r\n                      removeTodoList={removeTodoList}\r\n            />\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {todolistsElements}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}